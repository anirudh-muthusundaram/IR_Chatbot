{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Pie}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,ArcElement,Tooltip,Legend}from'chart.js';import axios from'axios';// Register the necessary components for Chart.js\nimport{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,ArcElement,Tooltip,Legend);const TopicDistributionPieChart=()=>{const[chartData,setChartData]=useState({labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]});useEffect(()=>{const fetchTopicData=async()=>{try{// Adjusted the endpoint to match the Flask route\nconst response=await axios.get('http://34.125.19.142:9999/topic-distribution');const data=response.data;const topics=Object.keys(data);const counts=Object.values(data);// Map through the topics to create colors for the chart\nconst backgroundColors=topics.map(()=>\"rgba(\".concat(Math.random()*255,\", \").concat(Math.random()*255,\", \").concat(Math.random()*255,\", 0.6)\"));const hoverBackgroundColors=topics.map(()=>\"rgba(\".concat(Math.random()*255,\", \").concat(Math.random()*255,\", \").concat(Math.random()*255,\", 0.8)\"));setChartData({labels:topics,datasets:[{data:counts,backgroundColor:backgroundColors,hoverBackgroundColor:hoverBackgroundColors}]});}catch(error){console.error('Error fetching topic distribution data:',error);}};fetchTopicData();},[]);const chartOptions={plugins:{legend:{labels:{color:'#000000',// Specify your desired color for labels\nfont:{size:14// You can adjust the font size here\n}}}}};return/*#__PURE__*/_jsx(Pie,{data:chartData,options:chartOptions});};export default TopicDistributionPieChart;","map":{"version":3,"names":["React","useState","useEffect","Pie","Chart","ChartJS","CategoryScale","LinearScale","ArcElement","Tooltip","Legend","axios","jsx","_jsx","register","TopicDistributionPieChart","chartData","setChartData","labels","datasets","data","backgroundColor","hoverBackgroundColor","fetchTopicData","response","get","topics","Object","keys","counts","values","backgroundColors","map","concat","Math","random","hoverBackgroundColors","error","console","chartOptions","plugins","legend","color","font","size","options"],"sources":["C:/College/IR/cyber-seeker/src/TopicDistributionPieChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport axios from 'axios';\r\n\r\n// Register the necessary components for Chart.js\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    ArcElement,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nconst TopicDistributionPieChart = () => {\r\n  const [chartData, setChartData] = useState({\r\n    labels: [],\r\n    datasets: [{\r\n      data: [],\r\n      backgroundColor: [],\r\n      hoverBackgroundColor: []\r\n    }]\r\n  });\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchTopicData = async () => {\r\n      try {\r\n        // Adjusted the endpoint to match the Flask route\r\n        const response = await axios.get('http://34.125.19.142:9999/topic-distribution');\r\n        const data = response.data;\r\n        const topics = Object.keys(data);\r\n        const counts = Object.values(data);\r\n\r\n        // Map through the topics to create colors for the chart\r\n        const backgroundColors = topics.map(() => `rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.6)`);\r\n        const hoverBackgroundColors = topics.map(() => `rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.8)`);\r\n\r\n        setChartData({\r\n          labels: topics,\r\n          datasets: [{\r\n            data: counts,\r\n            backgroundColor: backgroundColors,\r\n            hoverBackgroundColor: hoverBackgroundColors\r\n          }]\r\n        });\r\n      } catch (error) {\r\n        console.error('Error fetching topic distribution data:', error);\r\n      }\r\n    };\r\n\r\n    fetchTopicData();\r\n  }, []);\r\n\r\n  const chartOptions = {\r\n    plugins: {\r\n      legend: {\r\n        labels: {\r\n          color: '#000000', // Specify your desired color for labels\r\n          font: {\r\n            size: 14 // You can adjust the font size here\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return <Pie data={chartData} options={chartOptions} />;\r\n};\r\n\r\nexport default TopicDistributionPieChart;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,KAAQ,iBAAiB,CACrC,OACEC,KAAK,GAAI,CAAAC,OAAO,CAChBC,aAAa,CACbC,WAAW,CACXC,UAAU,CACVC,OAAO,CACPC,MAAM,KACD,UAAU,CACjB,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACAR,OAAO,CAACS,QAAQ,CACZR,aAAa,CACbC,WAAW,CACXC,UAAU,CACVC,OAAO,CACPC,MACJ,CAAC,CAED,KAAM,CAAAK,yBAAyB,CAAGA,CAAA,GAAM,CACtC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAC,CACzCiB,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,CAAC,CACTC,IAAI,CAAE,EAAE,CACRC,eAAe,CAAE,EAAE,CACnBC,oBAAoB,CAAE,EACxB,CAAC,CACH,CAAC,CAAC,CAIFpB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,8CAA8C,CAAC,CAChF,KAAM,CAAAL,IAAI,CAAGI,QAAQ,CAACJ,IAAI,CAC1B,KAAM,CAAAM,MAAM,CAAGC,MAAM,CAACC,IAAI,CAACR,IAAI,CAAC,CAChC,KAAM,CAAAS,MAAM,CAAGF,MAAM,CAACG,MAAM,CAACV,IAAI,CAAC,CAElC;AACA,KAAM,CAAAW,gBAAgB,CAAGL,MAAM,CAACM,GAAG,CAAC,YAAAC,MAAA,CAAcC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,GAAG,OAAAF,MAAA,CAAKC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,GAAG,OAAAF,MAAA,CAAKC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,GAAG,UAAQ,CAAC,CACxH,KAAM,CAAAC,qBAAqB,CAAGV,MAAM,CAACM,GAAG,CAAC,YAAAC,MAAA,CAAcC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,GAAG,OAAAF,MAAA,CAAKC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,GAAG,OAAAF,MAAA,CAAKC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,GAAG,UAAQ,CAAC,CAE7HlB,YAAY,CAAC,CACXC,MAAM,CAAEQ,MAAM,CACdP,QAAQ,CAAE,CAAC,CACTC,IAAI,CAAES,MAAM,CACZR,eAAe,CAAEU,gBAAgB,CACjCT,oBAAoB,CAAEc,qBACxB,CAAC,CACH,CAAC,CAAC,CACJ,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CACjE,CACF,CAAC,CAEDd,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAgB,YAAY,CAAG,CACnBC,OAAO,CAAE,CACPC,MAAM,CAAE,CACNvB,MAAM,CAAE,CACNwB,KAAK,CAAE,SAAS,CAAE;AAClBC,IAAI,CAAE,CACJC,IAAI,CAAE,EAAG;AACX,CACF,CACF,CACF,CACF,CAAC,CAED,mBAAO/B,IAAA,CAACV,GAAG,EAACiB,IAAI,CAAEJ,SAAU,CAAC6B,OAAO,CAAEN,YAAa,CAAE,CAAC,CACxD,CAAC,CAED,cAAe,CAAAxB,yBAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}